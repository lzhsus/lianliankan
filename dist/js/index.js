webpackJsonp([1],{103:function(t,n,e){"use strict";function i(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"index-wrapper",attrs:{id:"index"}},[e("canvas",{attrs:{id:"demoCanvas",width:"750",height:"1450"}}),t._v(" "),e("div",{staticClass:"start"},[e("div",{on:{click:t.startBtn}},[t._v("开始")]),t._v(" "),e("div",{on:{click:t.contentBtn}},[t._v("CONTENT+"+t._s(t.CONTENT))])])])}i._withStripped=!0;var o={render:i,staticRenderFns:[]};n.a=o},27:function(t,i,o){"use strict";(function(u){Object.defineProperty(i,"__esModule",{value:!0});var p=n(o(28)),a=n(o(29)),t=n(o(30));n(o(44)),n(o(45)),n(o(46));function n(t){return t&&t.__esModule?t:{default:t}}var f,r,c,h,d,w,e,b=10;i.default={name:"app",data:function(){return{pageShow:"index",popShow:"",pageIndex:1,dataList:[],numL:4,rectLong:30,resr:["",""],containerList:[{},{}],startObj:[{},{}],childrens:[],newUpD:[],CONTENT:0}},components:{},computed:{},watch:{},methods:{contentBtn:function(){this.CONTENT=!this.CONTENT},startBtn:(e=(0,t.default)(a.default.mark(function t(){var n,e,i,o,s=this;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=[],n=this.dataListFunc(this.numL),this.dataFastList(n[0],n[n.length-1]),e=[],i=[],n.forEach(function(t){e.push({id:t.id,type:t.type,value:t.value}),i.push({x:t.x,y:t.y,x_h:t.x_h,x_w:t.x_w})}),o=this.randomOrder(e),i.map(function(t,n){t.index=n,t.id=o[n].id,t.type=o[n].type,t.value=o[n].value}),i.forEach(function(t,n){s.drew(t)}),this.dataList=i;case 9:case"end":return t.stop()}},t,this)})),function(){return e.apply(this,arguments)}),drew:function(t){var n=this.rectLong,e=this.rectLong,i=t.x+t.x_w*b,o=t.y+t.x_h*b,s=new u.Shape;s.graphics.beginFill("#b8ccf3").drawRect(i,o,n,e),s.shadow=new u.Shadow("red",0,0,0),s.obj=t;var a=new u.Text(t.type,"12px Arial","blue");a.x=i+n/3,a.y=o+e/3,this.contentAdd(s),r.addChild(s),h.addChild(a),f.update(a)},drawLine:function(t,n){var e=this.containerList,i=e[0].obj.x+e[0].obj.x_w*b+this.rectLong/2,o=e[0].obj.y+e[0].obj.x_h*b+this.rectLong/2,s=e[1].obj.x+e[1].obj.x_w*b+this.rectLong/2,a=e[1].obj.y+e[1].obj.x_h*b+this.rectLong/2;if("straight-line"==t){var r=new u.Graphics;if(1==this.newUpD.length){var c=this.newUpD[0].x,h=this.newUpD[0].y;r.setStrokeStyle(2).beginStroke("#000").moveTo(i,o).lineTo(c,h).lineTo(s,a)}else if(2==this.newUpD.length){c=this.newUpD[0].x+this.newUpD[0].x_w*b+this.rectLong/2,h=this.newUpD[0].y+this.newUpD[0].x_h*b+this.rectLong/2;var d=this.newUpD[1].x+this.newUpD[1].x_w*b+this.rectLong/2,l=this.newUpD[1].y+this.newUpD[1].x_h*b+this.rectLong/2;console.log(i,o),console.log(c,h),console.log(d,l),console.log(s,a),r.setStrokeStyle(2).beginStroke("#000").moveTo(i,o).lineTo(c,h).lineTo(d,l).lineTo(s,a)}else r.setStrokeStyle(2).beginStroke("#000").moveTo(i,o).lineTo(s,a);var x=new u.Shape(r)}w.addChild(x),f.update(),n&&n()},drewBorder:function(t){var n=t.rectX,e=t.rectY,i=t._sX,o=t._sY,s=new u.Shape,a=new u.Shape;s.graphics.beginFill("red").drawRect(i,o,n,e),a.graphics.beginFill("#fff").drawRect(i+2,o+2,n-4,e-4),a.mask=s,c.addChild(s,a),f.update()},dataFastList:function(t,n){var e=t.x+t.x_w*b,i=t.y+t.x_h*b,o=n.x+n.x_w*b+this.rectLong,s=n.y+n.x_h*b+this.rectLong,a=new u.Shape;a.graphics.beginFill("red").drawRect(e-10,i-10,o-e+20,s-i+20),a.graphics.beginFill("#fff").drawRect(e-5,i-5,o-e+10,s-i+10),d.addChild(a),f.update()},dataListFunc:function(t){var n=0<arguments.length&&void 0!==t?t:4;n<=this.numL&&(n=this.numL);for(var e=n*n,i=[],o=1,s=1,a=1,r=0,c=0;c<e;c++){var h={id:c+1,index:c,value:c+1,type:o,del:0,x_w:(c+1)%this.numL?(c+1)%this.numL:this.numL,x_h:r,x:30*s+12,y:30*a+12};(c+1)/this.numL%1==0&&r++,(c+1)%n==0?(a++,s=1):s++;parseInt(2*Math.random());i.forEach(function(t){t.type==o&&o++}),i.push(h)}return i},randomOrder:function(t){for(var n=t.length,e=new Array,i=0;i<n;i++)e[i]=i;var o=new Array;for(i=0;i<n;i++)o[i]=e.splice(Math.floor(Math.random()*e.length),1);var s=new Array;for(i=0;i<n;i++)s[i]=t[o[i][0]];return s},contentAdd:function(o){var t=this;o.addEventListener("click",function(){var e=0,i="";r.children.forEach(function(t,n){t.id==o.id&&(i=n,t.shadow.blur?e=1:t.shadow.blur=10)}),t.childrens=r.children,e||(t.containerList[0].id?(t.containerList[1]=o,t.containerList[1].containerIndex=i,t.vreFun()):(t.containerList[0]=o,t.containerList[0].containerIndex=i))})},interval:function(t,n){var e=this.containerList,i=0;if("x"==t){var o=Math.abs(e[0].obj.x-e[1].obj.x)/this.rectLong-1,s=e[0].obj.x>e[1].obj.x?e[1].obj.id:e[0].obj.id,a="";this.dataList.forEach(function(t,n){t.id==s&&(a=n)});for(var r=0,c=0;c<o;c++)a++,this.dataList[a].isDel||(r=1);if(i=r?0:(console.log("直线删除"),1),"top"==n){if(console.log("into",n),!i)console.log("直接上边删除"),(f=[{},{}])[0].y=e[0].obj.y-this.rectLong,f[0].x=e[0].obj.x,f[0].x_w=e[0].obj.x_w,f[0].x_h=e[0].obj.x_h,f[1].y=e[1].obj.y-this.rectLong,f[1].x=e[1].obj.x,f[1].x_w=e[1].obj.x_w,f[1].x_h=e[1].obj.x_h,this.newUpD=f,i=1}else if("botton"==n){console.log("into",n),console.log("直接下面删除"),(f=[{},{}])[0].y=e[0].obj.y+this.rectLong,f[0].x=e[0].obj.x,f[0].x_w=e[0].obj.x_w,f[0].x_h=e[0].obj.x_h,f[1].y=e[1].obj.y+this.rectLong,f[1].x=e[1].obj.x,f[1].x_w=e[1].obj.x_w,f[1].x_h=e[1].obj.x_h,this.newUpD=f,i=1}else{if(!i){console.log("尝试上边删除"),(f=[{},{}])[0].y=e[0].obj.y-this.rectLong,f[0].x=e[0].obj.x,f[1].y=e[1].obj.y-this.rectLong,f[1].x=e[1].obj.x;var h={};h=f[0].x<f[1].x?f[0]:f[1];var d="";this.dataList.forEach(function(t,n){t.x==h.x&&t.y==h.y&&(d=n)}),console.log("s",d),this.dataList.forEach(function(t,n){t.x==f[0].x&&t.y==f[0].y&&(f[0].x_w=t.x_w,f[0].x_h=t.x_h)}),this.dataList.forEach(function(t,n){t.x==f[1].x&&t.y==f[1].y&&(f[1].x_w=t.x_w,f[1].x_h=t.x_h)}),console.log("***************",f),this.newUpD=f;for(var l=2+o,x=0,u=0;u<l;u++)console.log("---"+u+"--",(0,p.default)(this.dataList[d])),this.dataList[d].isDel||(x=1),d++;console.log("n_notDel",x),i=x?0:(console.log("尝试上边删除-success"),1)}if(!i){var f;console.log("尝试下面删除"),(f=[{},{}])[0].y=e[0].obj.y+this.rectLong,f[0].x=e[0].obj.x,f[1].y=e[1].obj.y+this.rectLong,f[1].x=e[1].obj.x;h={};h=f[0].x<f[1].x?f[0]:f[1],console.log("upDobj",h);d="";this.dataList.forEach(function(t,n){t.x==h.x&&t.y==h.y&&(d=n)}),console.log("upDIndex",d),this.dataList.forEach(function(t,n){t.x==f[0].x&&t.y==f[0].y&&(f[0].x_w=t.x_w,f[0].x_h=t.x_h)}),this.dataList.forEach(function(t,n){t.x==f[1].x&&t.y==f[1].y&&(f[1].x_w=t.x_w,f[1].x_h=t.x_h)}),this.newUpD=f;l=2+o,x=0;for(var w=0;w<l;w++)console.log("---"+w+"--",this.dataList[d]),this.dataList[d].isDel||(x=1),d++;console.log("n_notDel",x),i=x?0:(console.log("尝试下面删除-success"),1)}}}return i},verAddressFun:function(){var t=0,n=this.containerList;console.log(n),n[0].obj.y==n[1].obj.y&&(t=Math.abs(n[0].obj.x-n[1].obj.x)==this.rectLong?1:(console.log("--------------------",n[0].obj.x,n[1].obj.x),n[0].obj.y<=this.rectLong+12?this.interval("x","top"):n[0].obj.y>=4*this.rectLong+12?this.interval("x","botton"):this.interval("x"))),n[0].obj.x==n[1].obj.x&&Math.abs(n[0].obj.y-n[1].obj.y)==this.rectLong&&(t=1);var e=this;t?this.drawLine("straight-line",function(){setTimeout(function(t){e.delData()},1e3)}):this.notOk()},delData:function(){var e=this.containerList;this.dataList.map(function(n,t){e.forEach(function(t){n.id==t.obj.id&&(n.isDel=1)})}),console.log(e,this.dataList),r.removeChildAt(e[0].containerIndex,e[1].containerIndex),h.removeChildAt(e[0].containerIndex,e[1].containerIndex),w.removeAllChildren(),this.resr=["",""],this.newUpD=[],this.startObj=[{},{}],this.containerList=[{},{}]},vreFun:function(){var t=this.containerList;t[0].obj.type==t[1].obj.type?this.CONTENT?this.delData():this.verAddressFun():this.notOk()},notOk:function(){this.newUpD=[];var e=this.containerList,t=[{},{}];t[0]=e[1],r.children.forEach(function(t,n){t.id==e[0].id&&(t.shadow.blur=0)}),this.containerList=t}},mounted:function(){(f=new u.Stage("demoCanvas")).enableMouseOver(10),u.Touch.enable(f),r=new u.Container,c=new u.Container,h=new u.Container,d=new u.Container,w=new u.Container,f.addChild(d,r,c,h,w),u.Ticker.setFPS(60),u.Ticker.addEventListener("tick",function(){f.update()}),this.startBtn()}}}).call(i,o(16))},48:function(t,n,e){t.exports=e(49)},49:function(t,n,o){"use strict";(function(t){var n,e=o(63),i=(n=e)&&n.__esModule?n:{default:n};t.pageInit(i.default)}).call(n,o(15))},63:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e(27),o=e.n(i);for(var s in i)"default"!==s&&function(t){e.d(n,t,function(){return i[t]})}(s);var a=e(103),r=!1;function c(t){r||e(64)}var h=e(26)(o.a,a.a,!1,c,null,null);h.options.__file="src/pages/index/index.vue",n.default=h.exports},64:function(t,n){}},[48]);